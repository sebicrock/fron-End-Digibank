<!--<div class="profile-page">
  <div class="page-header">
    <button class="back-btn" (click)="volver()">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Volver
    </button>
    
    <div class="header-content">
      <h1>Mi Perfil</h1>
      <p class="subtitle">Administra tu informaci√≥n personal y preferencias</p>
    </div>
  </div>

  <div class="profile-container">-->
    
    <!-- SIDEBAR: INFO Y NAVEGACI√ìN -->
    <div class="profile-sidebar">
      
      <!-- TARJETA DE PERFIL -->
      <div class="profile-card">
        <div class="profile-photo-section">
          <div class="photo-container">
            <img [src]="userData.fotoPerfil || 'https://ui-avatars.com/api/?name=' + userData.nombres + '+' + userData.apellidos + '&size=150&background=8857fa&color=fff'" 
                 alt="Foto de perfil"
                 class="profile-photo">
            <button class="edit-photo-btn" (click)="triggerFileInput()">
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z" fill="currentColor"/>
              </svg>
            </button>
          </div>
          <input 
            type="file" 
            #fileInput 
            accept="image/*" 
            (change)="onFileSelected($event)"
            style="display: none;">
          
          <div class="profile-info">
            <h2>{{ userData.nombres }} {{ userData.apellidos }}</h2>
            <p class="user-email">{{ userData.email }}</p>
            <span class="user-badge">{{ userData.tipoCliente || 'Cliente Premium' }}</span>
          </div>
        </div>

        <div class="profile-stats">
          <div class="stat-item">
            <div class="stat-icon">üí≥</div>
            <div>
              <span class="stat-value">{{ totalProductos }}</span>
              <span class="stat-label">Productos</span>
            </div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">‚≠ê</div>
            <div>
              <span class="stat-value">{{ userData.puntosLealtad || 0 }}</span>
              <span class="stat-label">Puntos</span>
            </div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">üìÖ</div>
            <div>
              <span class="stat-value">{{ calcularAntiguedad() }}</span>
              <span class="stat-label">Cliente desde</span>
            </div>
          </div>
        </div>
      </div>

      <!-- NAVEGACI√ìN -->
      <div class="tabs-navigation">
        <button 
          class="tab-btn" 
          [class.active]="tabActiva === 'informacion'"
          (click)="cambiarTab('informacion')">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
          </svg>
          Informaci√≥n Personal
        </button>
        
        <button 
          class="tab-btn" 
          [class.active]="tabActiva === 'seguridad'"
          (click)="cambiarTab('seguridad')">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z" fill="currentColor"/>
          </svg>
          Seguridad
        </button>
        
        <button 
          class="tab-btn" 
          [class.active]="tabActiva === 'preferencias'"
          (click)="cambiarTab('preferencias')">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M19.43 12.98C19.47 12.66 19.5 12.34 19.5 12C19.5 11.66 19.47 11.34 19.43 11.02L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.97 19.05 5.05L16.56 6.05C16.04 5.65 15.48 5.32 14.87 5.07L14.49 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.51 2.42L9.13 5.07C8.52 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.72 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11.02C4.53 11.34 4.5 11.67 4.5 12C4.5 12.33 4.53 12.66 4.57 12.98L2.46 14.63C2.27 14.78 2.22 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.95C7.96 18.35 8.52 18.68 9.13 18.93L9.51 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.49 21.58L14.87 18.93C15.48 18.68 16.04 18.34 16.56 17.95L19.05 18.95C19.28 19.04 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.98ZM12 15.5C10.07 15.5 8.5 13.93 8.5 12C8.5 10.07 10.07 8.5 12 8.5C13.93 8.5 15.5 10.07 15.5 12C15.5 13.93 13.93 15.5 12 15.5Z" fill="currentColor"/>
          </svg>
          Preferencias
        </button>
        
        <button 
          class="tab-btn" 
          [class.active]="tabActiva === 'notificaciones'"
          (click)="cambiarTab('notificaciones')">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M12 22C10.9 22 10 21.1 10 20H14C14 21.1 13.1 22 12 22ZM18 16V11C18 7.93 16.37 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.64 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z" fill="currentColor"/>
          </svg>
          Notificaciones
        </button>
      </div>
    </div>

    <!-- CONTENIDO -->
    <div class="profile-content">
      
      <!-- TAB: INFORMACI√ìN PERSONAL -->
     <!--v class="tab-content" *ngIf="tabActiva === 'informacion'">
        <div class="content-header">
          <h2>Informaci√≥n Personal</h2>
          <button class="btn-edit" *ngIf="!modoEdicion" (click)="activarEdicion()">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z" fill="currentColor"/>
            </svg>
            Editar
          </button>
        </div>

        <form (ngSubmit)="guardarCambios()" #profileForm="ngForm">
          <div class="info-section">
            <h3 class="section-subtitle">Datos B√°sicos</h3>
            
            <div class="form-row">
              <div class="form-group">
                <label for="nombres">Nombres</label>
                <input 
                  type="text" 
                  id="nombres" 
                  name="nombres"
                  [(ngModel)]="userData.nombres"
                  [readonly]="!modoEdicion"
                  required>
              </div>
              
              <div class="form-group">
                <label for="apellidos">Apellidos</label>
                <input 
                  type="text" 
                  id="apellidos" 
                  name="apellidos"
                  [(ngModel)]="userData.apellidos"
                  [readonly]="!modoEdicion"
                  required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="tipoDocumento">Tipo de Documento</label>
                <select 
                  id="tipoDocumento" 
                  name="tipoDocumento"
                  [(ngModel)]="userData.tipoDocumento"
                  [disabled]="!modoEdicion">
                  <option value="CC">C√©dula de Ciudadan√≠a</option>
                  <option value="CE">C√©dula de Extranjer√≠a</option>
                  <option value="PAS">Pasaporte</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="numeroDocumento">N√∫mero de Documento</label>
                <input 
                  type="text" 
                  id="numeroDocumento" 
                  name="numeroDocumento"
                  [(ngModel)]="userData.numeroDocumento"
                  readonly>
                <small class="input-hint">Este campo no se puede editar</small>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="fechaNacimiento">Fecha de Nacimiento</label>
                <input 
                  type="date" 
                  id="fechaNacimiento" 
                  name="fechaNacimiento"
                  [(ngModel)]="userData.fechaNacimiento"
                  [readonly]="!modoEdicion">
              </div>
              
              <div class="form-group">
                <label for="genero">G√©nero</label>
                <select 
                  id="genero" 
                  name="genero"
                  [(ngModel)]="userData.genero"
                  [disabled]="!modoEdicion">
                  <option value="M">Masculino</option>
                  <option value="F">Femenino</option>
                  <option value="O">Otro</option>
                </select>
              </div>
            </div>
          </div>

          <div class="info-section">
            <h3 class="section-subtitle">Informaci√≥n de Contacto</h3>
            
            <div class="form-row">
              <div class="form-group">
                <label for="email">Correo Electr√≥nico</label>
                <input 
                  type="email" 
                  id="email" 
                  name="email"
                  [(ngModel)]="userData.email"
                  [readonly]="!modoEdicion"
                  required>
              </div>
              
              <div class="form-group">
                <label for="telefono">Tel√©fono Celular</label>
                <input 
                  type="tel" 
                  id="telefono" 
                  name="telefono"
                  [(ngModel)]="userData.telefono"
                  [readonly]="!modoEdicion"
                  pattern="[0-9]{10}">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group full-width">
                <label for="direccion">Direcci√≥n</label>
                <input 
                  type="text" 
                  id="direccion" 
                  name="direccion"
                  [(ngModel)]="userData.direccion"
                  [readonly]="!modoEdicion">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="ciudad">Ciudad</label>
                <input 
                  type="text" 
                  id="ciudad" 
                  name="ciudad"
                  [(ngModel)]="userData.ciudad"
                  [readonly]="!modoEdicion">
              </div>
              
              <div class="form-group">
                <label for="pais">Pa√≠s</label>
                <select 
                  id="pais" 
                  name="pais"
                 [(ngModel)]="userData.pais"
                  [disabled]="!modoEdicion">
                  <option value="CO">Colombia</option>
                  <option value="US">Estados Unidos</option>
                  <option value="MX">M√©xico</option>
                  <option value="ES">Espa√±a</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-actions" *ngIf="modoEdicion">
            <button type="button" class="btn-secondary" (click)="cancelarEdicion()">
              Cancelar
            </button>
            <button type="submit" class="btn-primary" [disabled]="!profileForm.valid || guardando">
              <span *ngIf="!guardando">Guardar Cambios</span>
              <span *ngIf="guardando" class="loading-content">
                <div class="spinner"></div>
                Guardando...
              </span>
            </button>
          </div>
        </form>
      </div>-->

      <!-- TAB: SEGURIDAD -->
      <!--<div class="tab-content" *ngIf="tabActiva === 'seguridad'">
        <div class="content-header">
          <h2>Seguridad</h2>
        </div>

        <div class="security-section">
          <div class="security-item">
            <div class="security-icon">üîê</div>
            <div class="security-info">
              <h4>Contrase√±a</h4>
              <p>√öltima actualizaci√≥n hace {{ diasDesdeUltimoCambio() }} d√≠as</p>
            </div>
            <button class="btn-outline" (click)="mostrarCambioPassword = !mostrarCambioPassword">
              Cambiar Contrase√±a
            </button>
          </div> -->

          <!-- FORMULARIO CAMBIO DE CONTRASE√ëA -->
          <!--<div class="password-form" *ngIf="mostrarCambioPassword">
            <form (ngSubmit)="cambiarPassword()" #passwordForm="ngForm">
              <div class="form-group">
                <label for="passwordActual">Contrase√±a Actual</label>
                <input 
                  type="password" 
                  id="passwordActual" 
                  name="passwordActual"
                  [(ngModel)]="passwordData.actual"
                  required>
              </div>
              
              <div class="form-group">
                <label for="passwordNueva">Nueva Contrase√±a</label>
                <input 
                  type="password" 
                  id="passwordNueva" 
                  name="passwordNueva"
                  [(ngModel)]="passwordData.nueva"
                  minlength="8"
                  required>
                <small class="input-hint">M√≠nimo 8 caracteres</small>
              </div>
              
              <div class="form-group">
                <label for="passwordConfirmar">Confirmar Nueva Contrase√±a</label>
                <input 
                  type="password" 
                  id="passwordConfirmar" 
                  name="passwordConfirmar"
                  [(ngModel)]="passwordData.confirmar"
                  required>
              </div>

              <div class="form-actions">
                <button type="button" class="btn-secondary" (click)="cancelarCambioPassword()">
                  Cancelar
                </button>
                <button type="submit" class="btn-primary" [disabled]="!passwordForm.valid">
                  Actualizar Contrase√±a
                </button>
              </div>
            </form>
          </div>

          <div class="security-item">
            <div class="security-icon">üì±</div>
            <div class="security-info">
              <h4>Autenticaci√≥n en Dos Pasos</h4>
              <p>{{ userData.dobleAutenticacion ? 'Activada' : 'Desactivada' }}</p>
            </div>
            <button class="btn-outline" (click)="toggleDobleAutenticacion()">
              {{ userData.dobleAutenticacion ? 'Desactivar' : 'Activar' }}
            </button>
          </div>

          <div class="security-item">
            <div class="security-icon">üîî</div>
            <div class="security-info">
              <h4>Alertas de Seguridad</h4>
              <p>Notificaci√≥n de actividad sospechosa</p>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userData.alertasSeguridad" (change)="guardarConfiguracion()">
              <span class="slider"></span>
            </div>
          </div>
        </div>
      </div>

      <!-- TAB: PREFERENCIAS -->
     <!-- <div class="tab-content" *ngIf="tabActiva === 'preferencias'">
        <div class="content-header">
          <h2>Preferencias</h2>
        </div>

        <div class="preferences-section">
          <h3 class="section-subtitle">Idioma y Regi√≥n</h3>
          
          <div class="preference-item">
            <label for="idioma">Idioma</label>
            <select id="idioma" [(ngModel)]="userData.idioma" (change)="guardarPreferencias()">
              <option value="es">Espa√±ol</option>
              <option value="en">English</option>
              <option value="pt">Portugu√™s</option>
            </select>
          </div>

          <div class="preference-item">
            <label for="moneda">Moneda Principal</label>
            <select id="moneda" [(ngModel)]="userData.moneda" (change)="guardarPreferencias()">
              <option value="COP">Peso Colombiano (COP)</option>
              <option value="USD">D√≥lar (USD)</option>
              <option value="EUR">Euro (EUR)</option>
            </select>
          </div>

          <div class="preference-item">
            <label for="zona">Zona Horaria</label>
            <select id="zona" [(ngModel)]="userData.zonaHoraria" (change)="guardarPreferencias()">
              <option value="America/Bogota">Bogot√° (GMT-5)</option>
              <option value="America/New_York">New York (GMT-5)</option>
              <option value="America/Mexico_City">Ciudad de M√©xico (GMT-6)</option>
              <option value="Europe/Madrid">Madrid (GMT+1)</option>
            </select>
          </div>
        </div>

        <div class="preferences-section">
          <h3 class="section-subtitle">Apariencia</h3>
          
          <div class="theme-selector">
            <label class="theme-option" [class.selected]="userData.tema === 'claro'">
              <input type="radio" name="tema" value="claro" [(ngModel)]="userData.tema" (change)="guardarPreferencias()">
              <div class="theme-preview light">
                <div class="theme-icon">‚òÄÔ∏è</div>
                <span>Claro</span>
              </div>
            </label>

            <label class="theme-option" [class.selected]="userData.tema === 'oscuro'">
              <input type="radio" name="tema" value="oscuro" [(ngModel)]="userData.tema" (change)="guardarPreferencias()">
              <div class="theme-preview dark">
                <div class="theme-icon">üåô</div>
                <span>Oscuro</span>
              </div>
            </label>

            <label class="theme-option" [class.selected]="userData.tema === 'auto'">
              <input type="radio" name="tema" value="auto" [(ngModel)]="userData.tema" (change)="guardarPreferencias()">
              <div class="theme-preview auto">
                <div class="theme-icon">üîÑ</div>
                <span>Autom√°tico</span>
              </div>
            </label>
          </div>
        </div>
      </div> -->

      <!-- TAB: NOTIFICACIONES -->
      <!--<div class="tab-content" *ngIf="tabActiva === 'notificaciones'">
        <div class="content-header">
          <h2>Notificaciones</h2>
        </div>

        <div class="notifications-section">
          <h3 class="section-subtitle">Notificaciones por Email</h3>
          
          <label class="notification-item">
            <div class="notification-info">
              <h4>Transacciones</h4>
              <p>Confirmaci√≥n de todas tus transacciones</p>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userData.notificaciones.email.transacciones" (change)="guardarNotificaciones()">
              <span class="slider"></span>
            </div>
          </label>

          <label class="notification-item">
            <div class="notification-info">
              <h4>Alertas de Seguridad</h4>
              <p>Inicios de sesi√≥n y cambios importantes</p>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userData.notificaciones.email.seguridad" (change)="guardarNotificaciones()">
              <span class="slider"></span>
            </div>
          </label>

          <label class="notification-item">
            <div class="notification-info">
              <h4>Promociones y Ofertas</h4>
              <p>Novedades y beneficios exclusivos</p>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userData.notificaciones.email.promociones" (change)="guardarNotificaciones()">
              <span class="slider"></span>
            </div>
          </label>
        </div>

        <div class="notifications-section">
          <h3 class="section-subtitle">Notificaciones Push</h3>
          
          <label class="notification-item">
            <div class="notification-info">
              <h4>Movimientos de Cuenta</h4>
              <p>Alerta inmediata de d√©bitos y cr√©ditos</p>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userData.notificaciones.push.movimientos" (change)="guardarNotificaciones()">
              <span class="slider"></span>
            </div>
          </label>

          <label class="notification-item">
            <div class="notification-info">
              <h4>Recordatorios de Pago</h4>
              <p>Vencimientos y fechas importantes</p>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" [(ngModel)]="userData.notificaciones.push.vencimientos" (change)="guardarNotificaciones()">
              <span class="slider"></span>
            </div>
          </label>
        </div>
      </div>

    </div>
  </div>-->

  <!-- TOAST DE NOTIFICACI√ìN 
  <div *ngIf="mensaje" class="alert-toast" [class.success]="mensajeTipo === 'success'" [class.error]="mensajeTipo === 'error'">
    <svg *ngIf="mensajeTipo === 'success'" viewBox="0 0 24 24" fill="none">
      <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z" fill="currentColor"/>
    </svg>
    <svg *ngIf="mensajeTipo === 'error'" viewBox="0 0 24 24" fill="none">
      <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="currentColor"/>
    </svg>
    <span>{{ mensaje }}</span>
  </div>
</div>-->